{% extends 'br/br_base.html' %}
{% block title %}request for blood{% endblock title %}

{% load crispy_forms_tags %}
{% load static %}
{% crispy form %}

{% block content %}

<!-- <div class="mt-3 shadow" style="height: 20vh;margin-top:100px">
    <img src="{% static 'images/all_group.jpg' %}" style="width: 100%;height:200px;margin-top:20px" alt="">
</div>   -->


<div class="container">

    <div style="height: 10vh;">
        
    </div>
    <!-- Button trigger modal -->

    <button type="button" class="btn  mt-5 offset-md-2 px-2" data-toggle="modal" data-target="#exampleModal"
        style="width: 56%;padding-top:40px;padding-bottom:40px;border:10px solid rgb(223, 219, 219);background: #f0f2f5;border-radius:20px;box-shadow: 5px 10px 10px 5px  #888888;">
        <h4>Which group of Blood You need ? </h4>
    </button>

    <!-- Modal -->
    <div class="modal fade shadow " id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
        aria-hidden="true">
        <div class="modal-dialog mx-100 w-md-50  modal-dialog-centered" role="document">
            <div class="modal-content ">
                <div class="modal-header text-center" style="background: rgb(161, 34, 34);text-align:center">
                    <h5 class="modal-title  mx-auto text-white " style="text-transform: uppercase;text-align:center;"
                        id="exampleModalLabel">Request For Blood </h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body"
                    style="background: linear-gradient(rgba(0,0,0,0.5),#0096877e),url(../../static/images/baby.jpg);background-size:cover;">
                    <div class="card my-3 p-4"
                        style="background: linear-gradient(rgba(0,0,0,0.5),#00968728),url(../../static/images/baby.jpg);background-size:cover;">
                        <!-- <h3 class=" mb-5 mx-auto" ">Request For Your Desire Blood</h3> -->
                        <form method="post" id="id_form" class="mx-auto text-left">
                            {% csrf_token %}

                            <div class="row" style="color: white;">

                                {% for field in form %}
                                <div class="col-sm-6 px-3 " style="text-transform: uppercase;">
                                    {{ field|as_crispy_field }}
                                </div>
                                {% endfor %}
                            </div>

                            <button type="submit" class=" d-block btn btn-lg btn-block my-2 bg-danger "
                                style="background: rgb(153, 17, 17);width:70%;margin:0 auto;color:white">
                                Request
                            </button>
                        </form>

                    </div>
                </div>
                <!-- <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
          <button type="button" class="btn btn-primary">Save changes</button>
        </div> -->
            </div>
        </div>
    </div>



    <div class="row mt-4 post">
        <div class="col-md-8 mt-5 offset-md-2">



            <!-- <div class="card my-3 p-4 " style="border-radius: 10px;line-height:.5rem;background: #f0f2f5;">
                <h3 class="py-2 mb-5 mx-auto" style="border-bottom: 1px solid gray;">Request For Your Desire Blood</h3>
                <form method="post" id="id_form" class="mx-auto text-left">
                    {% csrf_token %}

                    <div class="row">

                        {% for field in form %}
                        <div class="col-sm-6 px-5 " style="text-transform: uppercase;width:100%">
                            {{ field|as_crispy_field }}
                        </div>
                        {% endfor %}
                    </div>

                    <button type="submit" class=" d-block btn btn-lg btn-block my-2 "
                        style="background: rgb(221, 219, 219);width:70%;margin:0 auto">
                        Request
                    </button>
                </form>

            </div> -->


        </div>

    </div>

    <div class="row  pt-5">

        <div class="col-md-7 offset-md-2">

            {% for post in posts %}
            <div class="card shadow mb-4 " style="border-radius: 10px;">
                <div class="card-body mb-3 ">
                    <div class="row">

                        {% ifequal post.blood_group 'A+' %}
                        <div class="col-md-4">
                            <img src="{% static 'images/A+.jpeg' %}" alt="post image" style="width: 100%;height:100%">
                        </div>
                        {% endifequal %}


                        {% ifequal post.blood_group 'A-' %}
                        <div class="col-md-4">
                            <img src="{% static 'images/A-.png' %}" alt="post image" style="width: 100%;height:100%">
                        </div>
                        {% endifequal %}

                        {% ifequal post.blood_group 'AB+' %}
                        <div class="col-md-4">
                            <img src="{% static 'images/AB+.jpg' %}" alt="post image" style="width: 100%;height:100%">
                        </div>
                        {% endifequal %}

                        {% ifequal post.blood_group 'AB-' %}
                        <div class="col-md-4">
                            <img src="{% static 'images/AB-.png' %}" alt="post image" style="width: 100%;height:100%">
                        </div>
                        {% endifequal %}

                        {% ifequal post.blood_group 'O+' %}
                        <div class="col-md-4">
                            <img src="{% static 'images/O+.jpeg' %}" alt="post image" style="width: 100%;height:100%">
                        </div>
                        {% endifequal %}

                        {% ifequal post.blood_group 'O-' %}
                        <div class="col-md-4">
                            <img src="{% static 'images/O-.png' %}" alt="post image" style="width: 100%;height:100%">
                        </div>
                        {% endifequal %}

                        {% ifequal post.blood_group 'B+' %}
                        <div class="col-md-4">
                            <img src="{% static 'images/B+.png' %}" alt="post image" style="width: 100%;height:100%">
                        </div>
                        {% endifequal %}

                        {% ifequal post.blood_group 'B-' %}
                        <div class="col-md-4">
                            <img src="{% static 'images/B-.png' %}" alt="post image" style="width: 100%;height:100%">
                        </div>
                        {% endifequal %}

                        <div class="col-md-8 ">

                                                     
                            
                                
                           
                            <a class="h3" href="{% url 'details' post.id %}"
                                style="text-decoration: none;font-family: NexusSerif;">{{post.incident}}</a><br>
                            <small>{{post.time}}</small>
                            <hr>
                            <span> <strong>Group: </strong> {{post.blood_group}} </span>
                            <div class="body">
                                <h5>{{post.district}}</h5> <span>{{post.division}}</span>

                            </div>

                            <small><strong><span>{{post.blood_need}}</span></strong></small>
                            <h6>If interested please contact:<strong> {{post.contact}}</strong></h6>
                            <hr>
                            <p class="text-justify my-3 " style="font-family: NexusSerif;">
                                {{post.content}}
                            </p>
                        </div>
                    </div>
                </div>
            </div>

            {% endfor %}


        </div>
    </div>
</div>



{% endblock content %}